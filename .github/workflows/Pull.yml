name: PullRequest
on:
  pull_request:
    branches:
      - "dev"
      - "master"
    paths:
      - 'src/*'
jobs:
  UpdateVersion:
    runs-on: ubuntu-latest
    steps:
    - name: 初始化Node.js环境
      uses: actions/setup-node@v3
    - name: 拉取最新代码
      uses: actions/checkout@v3
      with:
        ref: ${{ github.ref }}
    - name: 修改版本号
      run: npm version patch
    - run: |
        git config user.name github-actions
        git config user.email github-actions@github.com
        git add .
        git commit -m "UpdateVersion"
        git push